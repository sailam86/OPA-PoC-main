{"version":3,"file":"getWebpackConfigPath.js","names":["DEFAULT_WEBPACK_CONFIG_LOCATIONS","getWebpackConfigPath","root","customPath","candidates","candidate","filename","path","isAbsolute","join","fs","existsSync","endsWith","Os","platform","Error"],"sources":["../../../src/commands/utils/getWebpackConfigPath.ts"],"sourcesContent":["import path from 'path';\nimport fs from 'fs';\nimport Os from 'os';\n\n// Supports the same files as Webpack CLI.\nconst DEFAULT_WEBPACK_CONFIG_LOCATIONS = [\n  'webpack.config.mjs',\n  'webpack.config.cjs',\n  'webpack.config.js',\n  '.webpack/webpack.config.mjs',\n  '.webpack/webpack.config.cjs',\n  '.webpack/webpack.config.js',\n  '.webpack/webpackfile',\n];\n\nexport function getWebpackConfigPath(root: string, customPath?: string) {\n  const candidates = customPath\n    ? [customPath]\n    : DEFAULT_WEBPACK_CONFIG_LOCATIONS;\n\n  for (const candidate of candidates) {\n    const filename = path.isAbsolute(candidate)\n      ? candidate\n      : path.join(root, candidate);\n    if (fs.existsSync(filename)) {\n      if (\n        path.isAbsolute(candidate) &&\n        candidate.endsWith('.mjs') &&\n        Os.platform() === 'win32'\n      ) {\n        return `file:\\\\${filename}`;\n      } else {\n        return filename;\n      }\n    }\n  }\n\n  throw new Error('Cannot find Webpack configuration file');\n}\n"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;;;AAEA;AACA,MAAMA,gCAAgC,GAAG,CACvC,oBADuC,EAEvC,oBAFuC,EAGvC,mBAHuC,EAIvC,6BAJuC,EAKvC,6BALuC,EAMvC,4BANuC,EAOvC,sBAPuC,CAAzC;;AAUO,SAASC,oBAAT,CAA8BC,IAA9B,EAA4CC,UAA5C,EAAiE;EACtE,MAAMC,UAAU,GAAGD,UAAU,GACzB,CAACA,UAAD,CADyB,GAEzBH,gCAFJ;;EAIA,KAAK,MAAMK,SAAX,IAAwBD,UAAxB,EAAoC;IAClC,MAAME,QAAQ,GAAGC,aAAA,CAAKC,UAAL,CAAgBH,SAAhB,IACbA,SADa,GAEbE,aAAA,CAAKE,IAAL,CAAUP,IAAV,EAAgBG,SAAhB,CAFJ;;IAGA,IAAIK,WAAA,CAAGC,UAAH,CAAcL,QAAd,CAAJ,EAA6B;MAC3B,IACEC,aAAA,CAAKC,UAAL,CAAgBH,SAAhB,KACAA,SAAS,CAACO,QAAV,CAAmB,MAAnB,CADA,IAEAC,WAAA,CAAGC,QAAH,OAAkB,OAHpB,EAIE;QACA,OAAQ,UAASR,QAAS,EAA1B;MACD,CAND,MAMO;QACL,OAAOA,QAAP;MACD;IACF;EACF;;EAED,MAAM,IAAIS,KAAJ,CAAU,wCAAV,CAAN;AACD"}