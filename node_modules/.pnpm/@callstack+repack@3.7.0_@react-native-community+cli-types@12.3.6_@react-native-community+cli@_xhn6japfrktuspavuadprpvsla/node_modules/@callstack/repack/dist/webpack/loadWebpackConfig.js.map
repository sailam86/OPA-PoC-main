{"version":3,"file":"loadWebpackConfig.js","names":["loadWebpackConfig","webpackConfigPath","env","config","require","default"],"sources":["../../src/webpack/loadWebpackConfig.ts"],"sourcesContent":["import webpack from 'webpack';\nimport { WebpackEnvOptions } from '../types';\n\ntype WebpackConfig =\n  | webpack.Configuration\n  | ((\n      env: WebpackEnvOptions,\n      argv: Record<string, any>\n    ) => webpack.Configuration | Promise<webpack.Configuration>);\n\nexport async function loadWebpackConfig(\n  webpackConfigPath: string,\n  env: WebpackEnvOptions\n) {\n  let config: WebpackConfig;\n\n  try {\n    config = require(webpackConfigPath);\n  } catch {\n    config = await import(webpackConfigPath);\n  }\n\n  if ('default' in config) {\n    config = (config as { default: WebpackConfig }).default;\n  }\n\n  if (typeof config === 'function') {\n    return await config(env, {});\n  }\n\n  return config;\n}\n"],"mappings":";;;;;;;AAUO,eAAeA,iBAAf,CACLC,iBADK,EAELC,GAFK,EAGL;EACA,IAAIC,MAAJ;;EAEA,IAAI;IACFA,MAAM,GAAGC,OAAO,CAACH,iBAAD,CAAhB;EACD,CAFD,CAEE,MAAM;IACNE,MAAM,GAAG,MAAM,OAAOF,iBAAP,CAAf;EACD;;EAED,IAAI,aAAaE,MAAjB,EAAyB;IACvBA,MAAM,GAAIA,MAAD,CAAuCE,OAAhD;EACD;;EAED,IAAI,OAAOF,MAAP,KAAkB,UAAtB,EAAkC;IAChC,OAAO,MAAMA,MAAM,CAACD,GAAD,EAAM,EAAN,CAAnB;EACD;;EAED,OAAOC,MAAP;AACD"}