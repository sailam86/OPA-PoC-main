{"version":3,"file":"AssetsResolverPlugin.js","names":["AssetsResolverPlugin","constructor","config","extensions","ASSET_EXTENSIONS","scalableExtensions","SCALABLE_ASSETS","apply","compiler","assetResolver","AssetResolver","options","resolve","plugins","concat"],"sources":["../../../../src/webpack/plugins/AssetsResolverPlugin/AssetsResolverPlugin.ts"],"sourcesContent":["import webpack from 'webpack';\nimport { WebpackPlugin } from '../../../types';\nimport { ASSET_EXTENSIONS, SCALABLE_ASSETS } from '../../utils/assetExtensions';\nimport { AssetResolver, AssetResolverConfig } from './AssetResolver';\n\n/**\n * {@link AssetsResolverPlugin} configuration options.\n */\nexport interface AssetsResolverPluginConfig extends AssetResolverConfig {}\n\n/**\n * Plugin for resolving assets (images, audio, video etc) for React Native applications.\n *\n * Assets processing in React Native differs from Web, Node.js or other targets.\n * This plugin in combination with `@callstack/repack/assets-loader` allows\n * you to use assets in the same way as you would do when using Metro.\n *\n * @category Webpack Plugin\n */\nexport class AssetsResolverPlugin implements WebpackPlugin {\n  /**\n   * Constructs new `AssetsResolverPlugin`.\n   *\n   * @param config Plugin configuration options.\n   */\n  constructor(private config: AssetsResolverPluginConfig) {\n    this.config.extensions = this.config.extensions ?? ASSET_EXTENSIONS;\n    this.config.scalableExtensions =\n      this.config.scalableExtensions ?? SCALABLE_ASSETS;\n  }\n\n  /**\n   * Apply the plugin.\n   *\n   * @param compiler Webpack compiler instance.\n   */\n  apply(compiler: webpack.Compiler) {\n    const assetResolver = new AssetResolver(this.config, compiler);\n\n    compiler.options.resolve.plugins = (\n      compiler.options.resolve.plugins || []\n    ).concat(assetResolver);\n  }\n}\n"],"mappings":";;;;;;;AAEA;;AACA;;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,MAAMA,oBAAN,CAAoD;EACzD;AACF;AACA;AACA;AACA;EACEC,WAAW,CAASC,MAAT,EAA6C;IAAA,KAApCA,MAAoC,GAApCA,MAAoC;IACtD,KAAKA,MAAL,CAAYC,UAAZ,GAAyB,KAAKD,MAAL,CAAYC,UAAZ,IAA0BC,iCAAnD;IACA,KAAKF,MAAL,CAAYG,kBAAZ,GACE,KAAKH,MAAL,CAAYG,kBAAZ,IAAkCC,gCADpC;EAED;EAED;AACF;AACA;AACA;AACA;;;EACEC,KAAK,CAACC,QAAD,EAA6B;IAChC,MAAMC,aAAa,GAAG,IAAIC,4BAAJ,CAAkB,KAAKR,MAAvB,EAA+BM,QAA/B,CAAtB;IAEAA,QAAQ,CAACG,OAAT,CAAiBC,OAAjB,CAAyBC,OAAzB,GAAmC,CACjCL,QAAQ,CAACG,OAAT,CAAiBC,OAAjB,CAAyBC,OAAzB,IAAoC,EADH,EAEjCC,MAFiC,CAE1BL,aAF0B,CAAnC;EAGD;;AAvBwD"}