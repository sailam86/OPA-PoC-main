{"version":3,"file":"RepackInitRuntimeModule.js","names":["RepackInitRuntimeModule","webpack","RuntimeModule","constructor","config","STAGE_BASIC","generate","Template","asString","getFunctionContent","require","replaceAll","hmrEnabled","chunkId","chunkLoadingGlobal","globalObject"],"sources":["../../../../../src/webpack/plugins/RepackTargetPlugin/runtime/RepackInitRuntimeModule.ts"],"sourcesContent":["import webpack from 'webpack';\n\ninterface RepackInitRuntimeModuleConfig {\n  chunkId: string | number | undefined;\n  globalObject: string;\n  chunkLoadingGlobal: string;\n  hmrEnabled?: boolean;\n}\n\nexport class RepackInitRuntimeModule extends webpack.RuntimeModule {\n  constructor(private config: RepackInitRuntimeModuleConfig) {\n    super('repack/init', webpack.RuntimeModule.STAGE_BASIC);\n  }\n\n  generate() {\n    return webpack.Template.asString([\n      '// Repack runtime initialization logic',\n      webpack.Template.getFunctionContent(require('./implementation/init'))\n        .replaceAll('$hmrEnabled$', `${this.config.hmrEnabled ?? false}`)\n        .replaceAll('$chunkId$', `\"${this.config.chunkId ?? 'unknown'}\"`)\n        .replaceAll(\n          '$chunkLoadingGlobal$',\n          `\"${this.config.chunkLoadingGlobal}\"`\n        )\n        .replaceAll('$globalObject$', this.config.globalObject),\n    ]);\n  }\n}\n"],"mappings":";;;;;;;AAAA;;;;AASO,MAAMA,uBAAN,SAAsCC,gBAAA,CAAQC,aAA9C,CAA4D;EACjEC,WAAW,CAASC,MAAT,EAAgD;IACzD,MAAM,aAAN,EAAqBH,gBAAA,CAAQC,aAAR,CAAsBG,WAA3C;IADyD,KAAvCD,MAAuC,GAAvCA,MAAuC;EAE1D;;EAEDE,QAAQ,GAAG;IACT,OAAOL,gBAAA,CAAQM,QAAR,CAAiBC,QAAjB,CAA0B,CAC/B,wCAD+B,EAE/BP,gBAAA,CAAQM,QAAR,CAAiBE,kBAAjB,CAAoCC,OAAO,CAAC,uBAAD,CAA3C,EACGC,UADH,CACc,cADd,EAC+B,GAAE,KAAKP,MAAL,CAAYQ,UAAZ,IAA0B,KAAM,EADjE,EAEGD,UAFH,CAEc,WAFd,EAE4B,IAAG,KAAKP,MAAL,CAAYS,OAAZ,IAAuB,SAAU,GAFhE,EAGGF,UAHH,CAII,sBAJJ,EAKK,IAAG,KAAKP,MAAL,CAAYU,kBAAmB,GALvC,EAOGH,UAPH,CAOc,gBAPd,EAOgC,KAAKP,MAAL,CAAYW,YAP5C,CAF+B,CAA1B,CAAP;EAWD;;AAjBgE"}