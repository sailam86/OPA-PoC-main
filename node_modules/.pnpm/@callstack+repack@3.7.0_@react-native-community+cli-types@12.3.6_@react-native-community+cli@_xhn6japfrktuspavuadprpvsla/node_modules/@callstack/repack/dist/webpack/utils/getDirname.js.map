{"version":3,"file":"getDirname.js","names":["getDirname","fileUrl","path","dirname","URL","pathname"],"sources":["../../../src/webpack/utils/getDirname.ts"],"sourcesContent":["import path from 'path';\nimport { URL } from 'url';\n\n/**\n * Get absolute directory (without any protocol) from a `file://` URL of a module.\n * Mostly useful in ESM Webpack configs, where `__dirname` is not available, but `import.meta.url` is.\n *\n * @param fileUrl String with absolute `file://` URL of a module.\n * @returns Absolute dirname without `file://` of a module pointed by `fileUrl`.\n *\n * @category Webpack util\n *\n * @example Usage in Webpack config (ESM):\n * ```ts\n * import * as Repack from '@callstack/repack';\n *\n * export default (env) => {\n *   const {\n *     context = Repack.getDirname(import.meta.url)\n *   } = env;\n * };\n * ```\n */\nexport function getDirname(fileUrl: string) {\n  return path.dirname(new URL(fileUrl).pathname);\n}\n"],"mappings":";;;;;;;AAAA;;AACA;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,SAASA,UAAT,CAAoBC,OAApB,EAAqC;EAC1C,OAAOC,aAAA,CAAKC,OAAL,CAAa,IAAIC,QAAJ,CAAQH,OAAR,EAAiBI,QAA9B,CAAP;AACD"}